<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>农业知识体系关系图</title>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.0/dist/echarts.min.js"></script>
    <style>
        #main {
            width: 1200px;
            height: 800px;
            margin: 20px auto;
            border: 1px solid #ddd;
        }
    </style>
</head>

<body>
    <div id="main"></div>
    <script>
        // 完整数据配置（与示例结构完全一致）
        const graph = {
            categories: [
                { name: '核心体系' },
                { name: '制度政策' },
                { name: '生产实践' },
                { name: '技术工具' },
                { name: '作物体系' },
                { name: '生态农法' }
            ],
            nodes: [
                // 核心节点（大节点）
                { name: '农业生产体系', category: 0, symbolSize: 50 },

                // 一级节点（中等节点）
                { name: '农政制度', category: 1, symbolSize: 35 },
                { name: '天时农事', category: 2, symbolSize: 35 },
                { name: '土地管理', category: 3, symbolSize: 35 },
                { name: '水利工程', category: 4, symbolSize: 35 },
                { name: '作物体系', category: 5, symbolSize: 35 },
                { name: '生态农法', category: 5, symbolSize: 35 },

                // 二级节点（标准节点）
                { name: '重农政策', category: 1 },  // 制度政策
                { name: '田赋制度', category: 1 },
                { name: '荒政体系', category: 1 },
                { name: '二十四节气', category: 2 },  // 生产实践
                { name: '代田法', category: 3 },
                { name: '曲辕犁', category: 4 },      // 技术工具
                { name: '水稻种植', category: 5 },    // 作物体系

                // 三级节点（小节点）
                { name: '劝农诏令', category: 1, symbolSize: 20 },
                { name: '井田制', category: 1, symbolSize: 20 },
                { name: '物候观测', category: 2, symbolSize: 20 },
                { name: '龙骨水车', category: 4, symbolSize: 20 }
            ],
            links: [
                // 核心连接
                { source: '农业生产体系', target: '农政制度' },
                { source: '农业生产体系', target: '天时农事' },
                { source: '农业生产体系', target: '土地管理' },
                { source: '农业生产体系', target: '水利工程' },
                { source: '农业生产体系', target: '作物体系' },
                { source: '农业生产体系', target: '生态农法' },

                // 制度政策分支
                { source: '农政制度', target: '重农政策' },
                { source: '农政制度', target: '田赋制度' },
                { source: '农政制度', target: '荒政体系' },
                { source: '重农政策', target: '劝农诏令' },
                { source: '田赋制度', target: '井田制' },

                // 生产实践分支
                { source: '天时农事', target: '二十四节气' },
                { source: '天时农事', target: '物候观测' },
                { source: '土地管理', target: '代田法' },

                // 技术工具分支
                { source: '水利工程', target: '龙骨水车' },
                { source: '水利工程', target: '曲辕犁' },

                // 交叉连接（创造网状效果）
                { source: '代田法', target: '曲辕犁' },
                { source: '二十四节气', target: '物候观测' },
                { source: '井田制', target: '荒政体系' }
            ]
        };

        // 完全复刻示例配置
        const chart = echarts.init(document.getElementById('main'));
        const option = {
            tooltip: {},
            legend: {
                data: graph.categories.map(c => c.name),
                textStyle: {
                    color: '#333',
                    fontSize: 14
                }
            },
            series: [{
                type: 'graph',
                layout: 'force',
                force: {
                    repulsion: 100,
                    edgeLength: 60,
                    gravity: 0.1
                },
                data: graph.nodes,
                links: graph.links,
                categories: graph.categories,
                roam: true,
                draggable: true,
                edgeSymbol: ['none', 'arrow'],
                edgeSymbolSize: [0, 10],
                label: {
                    show: true,
                    position: 'right',
                    fontSize: 12,
                    color: '#333',
                    formatter: '{b}'
                },
                labelLayout: {
                    hideOverlap: true,
                    moveOverlap: 'shiftY'
                },
                lineStyle: {
                    color: 'source',
                    curveness: 0.3,
                    width: 1.5
                },
                itemStyle: {
                    color: params => [
                        '#00c853',  // 核心体系-绿
                        '#2962ff',  // 制度政策-蓝
                        '#ff6d00',  // 生产实践-橙
                        '#aa00ff',  // 技术工具-紫
                        '#c51162',  // 作物体系-红
                        '#0091ea'   // 生态农法-青
                    ][params.data.category]
                },
                emphasis: {
                    focus: 'adjacency',
                    lineStyle: {
                        width: 2.5
                    }
                },
                scaleLimit: {
                    min: 0.4,
                    max: 2
                }
            }]
        };

        chart.setOption(option);
    </script>
</body>

</html>